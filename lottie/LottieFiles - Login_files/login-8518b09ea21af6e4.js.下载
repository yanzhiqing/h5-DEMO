(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7946:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(6887)}])},1121:function(e,r,t){"use strict";t.d(r,{i:function(){return s}});var n=t(2322),s=function(e){var r=e.title;return(0,n.jsxs)("div",{className:"relative my-5",children:[(0,n.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,n.jsx)("div",{className:"w-full border-t border-gray-100"})}),(0,n.jsx)("div",{className:"relative flex justify-center",children:(0,n.jsx)("span",{className:"bg-white px-2 text-xs text-gray-800",children:r})})]})}},9001:function(e,r,t){"use strict";var n=t(2322),s=t(2779),i=t.n(s);t(2784);r.Z=function(e){var r=e.className,t=e.text,s=e.type;return(0,n.jsx)("div",{className:i()("rounded-md p-4 text-sm ".concat(r),{"bg-red-100 text-red-500":"error"===s,"bg-green-100 text-green-700":"success"===s}),children:t})}},6887:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return P}});var n=t(2322),s=t(7729),i=t.n(s),a=t(2784),o=t(3619),c=t(1121),l=t(9127),u=t(8788),d=t(865),f=t(6670),m=t(6383),x=t(930),h=t(4776),v=t.n(h),p=t(3955),g=t(6493),j=t(8698),y=t(8162),w=t(2799),b=t(2909),N=t(9001),E=t(3777),Z=t(8720),k={email:"",password:""},_=function(e,r){return"".concat(e+r.text,"\n")},L=function(){var e,r,t=(0,Z.Qh)().errors,s=(0,m.Z)(a.useState([]),2),i=s[0],o=s[1],c=(0,g.aC)().login,l=(0,w.UN)().fireEvent,h=(0,p.cI)({defaultValues:k,mode:"onChange"}),L=h.clearErrors,C=h.formState,I=h.handleSubmit,S=h.register,A=h.setError,F=h.setFocus,P=(0,m.Z)((0,y.K3)(),2),T=P[0],z=P[1];a.useEffect((function(){F("email")}),[F]),a.useEffect((function(){var e,r,t=null===(r=null===(e=T.error)||void 0===e?void 0:e.graphQLErrors[0])||void 0===r?void 0:r.extensions.errors;if(t)for(var n in t)if("ui"===n){var s=[];Array.isArray(t.ui)&&(t.ui.forEach((function(e){s.push(e.text)})),o(s))}else if(!Array.isArray(t[n])||"password"!==n&&"email"!==n)L();else{var i;A(n,{message:null===(i=t[n])||void 0===i?void 0:i.reduce(_,"")})}else o([])}),[T.error,A,L]);var q=a.useCallback(function(){var e=(0,u.Z)(v().mark((function e(r){var t,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,z(r,{requestPolicy:"network-only"});case 3:if(!(n=e.sent).error){e.next=6;break}return e.abrupt("return");case 6:if(l(new j.L("email")),"Cookie"!==(null===(t=n.data)||void 0===t?void 0:t.passwordLogin.tokenType)){e.next=10;break}return e.next=10,c();case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[z,l,c]);return(0,n.jsx)("form",{onSubmit:I(q),children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,x.Z)(i).concat((0,x.Z)(t)).map((function(e){return(0,n.jsx)(N.Z,{text:e,type:"error"},e)})),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,n.jsx)(E.II,(0,f.Z)((0,d.Z)({},S("email",{required:"Email is missing."})),{name:"email",colSize:"full",type:"email",placeholder:"Email",hasError:Boolean(C.errors.email),errorMessage:null===(e=C.errors.email)||void 0===e?void 0:e.message,disabled:T.fetching})),(0,n.jsx)(E.II,(0,f.Z)((0,d.Z)({},S("password",{required:"Password is missing."})),{colSize:"full",type:"password",placeholder:"Password",showEye:!0,hasError:Boolean(C.errors.password),errorMessage:null===(r=C.errors.password)||void 0===r?void 0:r.message,disabled:T.fetching,nodeType:"login"})),(0,n.jsx)("div",{className:"col-span-2",children:(0,n.jsx)(b.z,{type:"submit",isBlock:!0,disabled:Object.keys(C.errors).length>0,loading:T.fetching,children:"Log in"})})]})]})})},C=t(7770),I=t(7027),S=t(2388),A=t(9422),F=function(){var e=(0,A.nV)(),r=(0,A.Um)(),t=r.action,s=r.entity,a=r.user,u=(0,C.m)({return_to:e||"",action:t,user:a,entity:s}),d="/register".concat(u?"?".concat(u):""),f="/enterprise-login".concat(u?"?".concat(u):"");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"LottieFiles - Login"}),(0,n.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,n.jsx)(o.Z,{widthClass:"w-[410px]",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"text-3xl font-semibold text-gray-900",children:"Log in"}),(0,n.jsxs)("p",{className:"mt-1.5 mb-6 text-sm text-gray-900",children:["New to LottieFiles? ",(0,n.jsx)(l.Z,{href:d,children:"Create an account"})]}),(0,n.jsx)(Z.JX,{}),(0,n.jsx)(c.i,{title:"or"}),(0,n.jsx)(L,{}),(0,n.jsx)("p",{className:"mt-6 text-center",children:(0,n.jsx)(l.Z,{href:f,children:"Log in with your organization\u2019s email"})})]})})]})};F.getLayout=function(e){return(0,n.jsx)(I.LN,{children:(0,n.jsx)(I.g1,{title:(0,n.jsx)(S.N,{}),children:e})})};var P=F},930:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var n=t(630);var s=t(3579);var i=t(5459);function a(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||(0,s.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[532,701,720,774,888,179],(function(){return r=7946,e(e.s=r);var r}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=login-8518b09ea21af6e4.js.map