(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[476],{9936:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/enterprise-login",function(){return n(8411)}])},9001:function(e,r,n){"use strict";var t=n(2322),i=n(2779),o=n.n(i);n(2784);r.Z=function(e){var r=e.className,n=e.text,i=e.type;return(0,t.jsx)("div",{className:o()("rounded-md p-4 text-sm ".concat(r),{"bg-red-100 text-red-500":"error"===i,"bg-green-100 text-green-700":"success"===i}),children:n})}},8411:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return z}});var t=n(2322),i=n(7729),o=n.n(i),s=n(2784),a=n(3619),l=n(9127),c=n(8788),u=n(865),d=n(6670),m=n(6383),h=n(930),f=n(4776),g=n.n(f),v=n(5632),x=n(3955),p=n(8162),j=n(9422),y=n(2909),b=n(9001),w=n(3777),E=n(8720),N=n(5932),_={email:""},Z=function(){var e,r,n=(0,v.useRouter)(),i=(0,j.nV)(),o=(0,j.Um)(),a=o.action,l=o.entity,f=o.user,Z=N.c({return_to:encodeURIComponent(i||""),user:f,action:a,entity:l}),L=(0,E.Qh)().errors,k=(0,m.Z)(s.useState(null),2),S=k[0],I=k[1],z=(0,x.cI)({defaultValues:_,mode:"onChange"}),C=z.clearErrors,U=z.formState,A=z.handleSubmit,F=z.register,O=z.setError,P=z.setFocus,T=z.watch,V=(0,m.Z)((0,p.k_)({variables:{email:T("email"),state:Z},pause:!0,requestPolicy:"network-only"}),2),q=V[0],B=V[1];s.useEffect((function(){P("email")}),[P]),s.useEffect((function(){var e,r,n=null===(r=null===(e=q.error)||void 0===e?void 0:e.graphQLErrors[0])||void 0===r?void 0:r.extensions.errorMessage;"Not a valid email."===n?O("email",{message:"Invalid email."}):"This email is not configured to use this login method."===n?I("Your email is not configured to use SSO Login. Please check with your organisation\u2019s admin or log in using other methods."):(C(),I(null))}),[q.error,O,C]),s.useEffect((function(){var e;(null===(e=q.data)||void 0===e?void 0:e.enterpriseLoginAuthorizationUrl)&&n.push(q.data.enterpriseLoginAuthorizationUrl)}),[null===(e=q.data)||void 0===e?void 0:e.enterpriseLoginAuthorizationUrl,n]);var M=s.useCallback((0,c.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B();case 1:case"end":return e.stop()}}),e)}))),[B]);return(0,t.jsx)("form",{onSubmit:A(M),children:(0,t.jsxs)("div",{className:"space-y-4",children:[[S].concat((0,h.Z)(L)).map((function(e){return e?(0,t.jsx)(b.Z,{text:e,type:"error"},e):void 0})),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)(w.II,(0,d.Z)((0,u.Z)({},F("email",{required:"Email is missing."})),{name:"email",colSize:"full",type:"email",placeholder:"Email",hasError:Boolean(U.errors.email),errorMessage:null===(r=U.errors.email)||void 0===r?void 0:r.message,disabled:q.fetching})),(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsx)(y.z,{type:"submit",isBlock:!0,disabled:Object.keys(U.errors).length>0,loading:q.fetching,children:"Log in"})})]})]})})},L=n(7770),k=n(7027),S=n(2388),I=function(){var e=(0,j.nV)(),r=(0,j.Um)(),n=r.action,i=r.entity,s=r.user,c=(0,L.m)({return_to:e||"",action:n,user:s,entity:i}),u="/login".concat(c?"?".concat(c):"");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o(),{children:[(0,t.jsx)("title",{children:"LottieFiles - Login"}),(0,t.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,t.jsx)(a.Z,{widthClass:"w-[410px]",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"mb-6 text-3xl font-semibold text-gray-900",children:"Log in with your organization\u2019s email"}),(0,t.jsx)(Z,{}),(0,t.jsx)("p",{className:"mt-6 text-center",children:(0,t.jsx)(l.Z,{href:u,children:"Log in using other methods"})})]})})]})};I.getLayout=function(e){return(0,t.jsx)(k.LN,{children:(0,t.jsx)(k.g1,{title:(0,t.jsx)(S.N,{}),children:e})})};var z=I},930:function(e,r,n){"use strict";n.d(r,{Z:function(){return s}});var t=n(630);var i=n(3579);var o=n(5459);function s(e){return function(e){if(Array.isArray(e))return(0,t.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[532,701,720,774,888,179],(function(){return r=9936,e(e.s=r);var r}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=enterprise-login-dc3daba3c3839a73.js.map